(this["webpackJsonppikagram-frontend-react"]=this["webpackJsonppikagram-frontend-react"]||[]).push([[0],{135:function(e,t,n){e.exports=n(224)},176:function(e,t){},224:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n(0),c=n.n(r),o=n(29),l=n.n(o),u=n(82),i=n(9),s=n(23),m=n(12),p=n(14);function d(){var e=Object(m.a)(["\n  mutation Comment ($postId: Int!, $comment: String!) {\n    addComment(postId: $postId, comment:$comment) {\n      id\n    }\n  }"]);return d=function(){return e},e}function g(){var e=Object(m.a)(["\n  { post\n    {\n      allPosts\n    }\n  }"]);return g=function(){return e},e}function f(){var e=Object(m.a)(["\nquery Token ($userName: String!, $password: String!) {\n  login(userName: $userName, password: $password) {\n    token\n    id\n  }\n}"]);return f=function(){return e},e}var b=Object(p.gql)(f()),v=Object(p.gql)(g()),h=Object(p.gql)(d()),E=n(26);function j(){var e=Object(m.a)(["\ndisplay: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;"]);return j=function(){return e},e}var O=E.a.div(j());function x(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(null),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(r.useState)(null),g=Object(s.a)(d,2),f=g[0],v=g[1],h=Object(i.f)(),E=Object(p.useLazyQuery)(b,{onCompleted:function(){localStorage.token=y.login.token,h.push("/home")},onError:function(e){return v("Invalid Credentials")}}),j=Object(s.a)(E,2),x=j[0],y=j[1].data;return c.a.createElement(O,null,f?c.a.createElement("p",null," ",f," "):null,c.a.createElement("input",{onChange:function(e){return a(e.target.value)},type:"text",placeholder:"username"}),c.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",placeholder:"password"}),c.a.createElement("input",{type:"button",value:"Login",onClick:function(){x({variables:{userName:n,password:u}})}}))}function y(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null))}var w=n(64);function k(){var e=Object(m.a)(["\n  font-size: 11px;   \n  color: rgb(38,38,38);\n  width: 555px;  \n  border:solid grey 1px;  \n  background-color: rgb(243,243,243);\n  outline-width: 0;"]);return k=function(){return e},e}var C=E.a.div(k());function I(e){var t=Object(r.useState)(e.value.Comments),n=Object(s.a)(t,2),a=n[0],o=n[1],l=Object(r.useState)(null),u=Object(s.a)(l,2),i=u[0],m=u[1],d=Object(p.useMutation)(h),g=Object(s.a)(d,1)[0];return c.a.createElement(C,null,c.a.createElement("img",{src:e.value.photoPath,alt:"",style:{width:"550px",padding:"1px 1px"}}),c.a.createElement("p",null," ","".concat(e.value.user.userName,": ").concat(e.value.caption)," "),c.a.createElement("p",null," ",a[0]?"Comments:":null," "),c.a.createElement("div",null," ",a[0]?a.map((function(e,t){return c.a.createElement("p",{key:t}," ","".concat(e.User.userName,":").concat(e.comment)," ")})):null," "),c.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",placeholder:"comment",style:{width:"400px"}}),c.a.createElement("input",{type:"button",value:"Comment",onClick:function(){g({variables:{postId:e.value.id,comment:i}}),o([].concat(Object(w.a)(a),[{User:{userName:"deepak"},comment:i}]))},style:{width:"100px"}}))}function N(){var e=Object(m.a)(["\n// padding-bottom:400px;\noverflow: hidden;\nwidth:100%;\nposition: fixed;\nmargin: -9px -8px;\nwidth:100vw;\ndisplay:flex;\njustify-content: \nspace-between;\nfont-size: 11px;   \ncolor: rgb(38,38,38);\nborder:solid grey 1px;  \nbackground-color: rgb(243,243,243);\nleft:9px;   \n-width: 0;"]);return N=function(){return e},e}var S=E.a.div(N());function L(e){return c.a.createElement(S,null,c.a.createElement("h1",{style:{paddingLeft:"100px"}},"Logo"),c.a.createElement("h1",{style:{paddingRight:"100px"}},"Links"))}var R=n(58),$=n(129),M=n.n($),T=n(226),q=n(63);function z(){var e=Object(m.a)(["\n  font-size: 11px;  \n  height: 111px;  \n  color: rgb(38,38,38);\n  width: 255px;  \n  border:solid grey 1px;  \n  background-color: rgb(243,243,243);\n  left:9px;  \n  top: -8px;  \n  outline-width: 0;\n  overflow-y:auto;"]);return z=function(){return e},e}function _(){var e=Object(m.a)(["\n  position: fixed;\n  bottom: 5px;\n  right: 5px;"]);return _=function(){return e},e}var K=M()("https://solo-react-project.herokuapp.com",{path:"/ws"}),P=E.a.div(_()),D=E.a.div(z());function J(){var e=Object(q.b)((function(e){return e.userReducer.username})),t=Object(r.useState)({message:"",name:""}),n=Object(s.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)([]),i=Object(s.a)(u,2),m=i[0],p=i[1];Object(r.useEffect)((function(){K.on("message",(function(e){var t=e.name,n=e.message;p([].concat(Object(w.a)(m),[{name:t,message:n}]))}))}));return c.a.createElement(P,null,c.a.createElement(D,{className:"render-chat"},m.map((function(t,n){t.name;var a=t.message;return c.a.createElement("div",{key:n},c.a.createElement("h3",null," ",e,": ",c.a.createElement("span",null,a)," "))}))),c.a.createElement("input",{name:"message",onChange:function(e){return function(e){l(Object(a.a)(Object(a.a)({},o),{},Object(R.a)({},e.target.name,e.target.value)))}(e)},value:o.message,id:"outlined-multiline-static",variant:"outlined",label:"Message"}),c.a.createElement(T.a,{onClick:function(e){var t=o.name,n=o.message;K.emit("message",{name:t,message:n}),l({message:"",name:t})},style:{width:"92px"}}," Send "))}function A(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;"]);return A=function(){return e},e}var B=E.a.div(A());function F(){var e=Object(p.useQuery)(v),t=e.loading,n=e.error,a=e.data;return t?c.a.createElement("p",null,"Loading..."):n?c.a.createElement("p",null,"Error :"):c.a.createElement(c.a.Fragment,null,c.a.createElement(L,null),c.a.createElement(B,null,JSON.parse(a.post.allPosts).map((function(e,t){return c.a.createElement(I,{key:t,value:e})}))),c.a.createElement(J,null))}var Q=n(35),U=n(133),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_INCREMENT":return e++;case"LIKE_DECREMENT":return e--;default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"deepak"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_INCREMENT":case"LIKE_DECREMENT":default:return e}},V=Object(Q.combineReducers)({likeReducer:G,isLoggedReducer:H,userReducer:W}),X=n(134),Y=Object(Q.createStore)(V,Object(U.composeWithDevTools)()),Z=Object(p.createHttpLink)({uri:"/gql"}),ee=Object(X.a)((function(e,t){var n=t.headers,r=localStorage.getItem("token");return{headers:Object(a.a)(Object(a.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),te=new p.ApolloClient({link:ee.concat(Z),cache:new p.InMemoryCache});l.a.render(c.a.createElement(q.a,{store:Y},c.a.createElement(p.ApolloProvider,{client:te},c.a.createElement(u.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/"}," ",c.a.createElement(y,null)," "),c.a.createElement(i.a,{exact:!0,path:"/home"}," ",c.a.createElement(F,null)," "))))),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.109a9f44.chunk.js.map