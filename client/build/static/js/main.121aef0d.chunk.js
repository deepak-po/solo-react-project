(this["webpackJsonppikagram-frontend-react"]=this["webpackJsonppikagram-frontend-react"]||[]).push([[0],{137:function(e,t,n){e.exports=n(227)},176:function(e,t){},227:function(e,t,n){"use strict";n.r(t);var a=n(44),r=n(0),c=n.n(r),o=n(31),l=n.n(o),u=n(84),i=n(9),s=n(12),m=n(19),p=(n(10),n(28),n(11));function d(){var e=Object(s.a)(["\n  mutation Comment($postId: Int!, $comment: String!){\n    addComment(postId: $postId, comment:$comment) {\n      id\n    }\n    }"]);return d=function(){return e},e}function g(){var e=Object(s.a)(["\n  { post\n    {\n      allPosts\n    }\n  }"]);return g=function(){return e},e}function f(){var e=Object(s.a)(["\nquery Token($userName: String!, $password: String!){\n  login(userName: $userName, password: $password){\n    token\n    id\n  }\n}"]);return f=function(){return e},e}var b=function(e){window.location.href="http://localhost:3000/home",localStorage.token=e.login.token},v=Object(p.gql)(f()),h=Object(p.gql)(g()),E=Object(p.gql)(d());var j=n(25);function O(){var e=Object(s.a)(["\ndisplay: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;"]);return O=function(){return e},e}var x=j.a.div(O());function y(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(null),l=Object(m.a)(o,2),u=l[0],i=l[1],s=Object(r.useState)(null),d=Object(m.a)(s,2),g=d[0],f=d[1],h=Object(p.useLazyQuery)(v,{onCompleted:b,onError:function(e){return f("Invalid Credentials")}}),E=Object(m.a)(h,2),j=E[0],O=E[1];O.loading,O.data;return c.a.createElement(x,null,g?c.a.createElement("p",null," ",g," "):null,c.a.createElement("input",{onChange:function(e){return a(e.target.value)},type:"text",placeholder:"username"}),c.a.createElement("input",{onChange:function(e){return i(e.target.value)},type:"text",placeholder:"password"}),c.a.createElement("input",{type:"button",value:"Login",onClick:function(){j({variables:{userName:n,password:u}})}}))}function w(){var e=Object(s.a)(["\n  { user(id:1)\n    {\n      firstName\n    }\n  }"]);return w=function(){return e},e}Object(p.gql)(w());function k(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,null))}var C=n(66);function N(){var e=Object(s.a)(["\n  font-size: 11px;   \n  color: rgb(38,38,38);\n  width: 555px;  \n  border:solid grey 1px;  \n  background-color: rgb(243,243,243);\n  outline-width: 0;"]);return N=function(){return e},e}var I=j.a.div(N());function S(e){var t=Object(r.useState)(e.value.Comments),n=Object(m.a)(t,2),a=n[0],o=n[1],l=Object(r.useState)(null),u=Object(m.a)(l,2),i=u[0],s=u[1],d=Object(p.useMutation)(E),g=Object(m.a)(d,2),f=g[0];g[1].data;return c.a.createElement(I,null,c.a.createElement("img",{src:e.value.photoPath,style:{width:"550px",padding:"1px 1px"}}),c.a.createElement("p",null," ","".concat(e.value.user.userName,": ").concat(e.value.caption)," "),c.a.createElement("p",null," ",a[0]?"Comments:":null," "),c.a.createElement("p",null," ",a[0]?a.map((function(e){return c.a.createElement("p",null," ","".concat(e.User.userName,":").concat(e.comment)," ")})):null," "),c.a.createElement("input",{onChange:function(e){return s(e.target.value)},type:"text",placeholder:"comment",style:{width:"400px"}}),c.a.createElement("input",{type:"button",value:"Comment",onClick:function(){f({variables:{postId:e.value.id,comment:i}}),o([].concat(Object(C.a)(a),[{User:{userName:"deepak"},comment:i}]))},style:{width:"100px"}}))}function L(){var e=Object(s.a)(["\n// padding-bottom:400px;\noverflow: hidden;\nwidth:100%;\nposition: fixed;\nmargin: -9px -8px;\nwidth:100vw;\ndisplay:flex;\njustify-content: space-between;\n  font-size: 11px;   color: rgb(38,38,38);\n border:solid grey 1px;  background-color: rgb(243,243,243);\n  left:9px;   outline-width: 0;"]);return L=function(){return e},e}var R=j.a.div(L());function $(e){return c.a.createElement(R,null,c.a.createElement("h1",{style:{"padding-left":"100px"}},"Logo"),c.a.createElement("h1",{style:{"padding-right":"100px"}},"Links"))}var M,T=n(61),q=n(131),z=n.n(q),_=n(229),K=n(50);function P(){var e=Object(s.a)(["\n  font-size: 11px;  \n  height: 111px;  \n  color: rgb(38,38,38);\n  width: 255px;  \n  border:solid grey 1px;  \n  background-color: rgb(243,243,243);\n  left:9px;  \n  top: -8px;  \n  outline-width: 0;\n  overflow-y:auto;"]);return P=function(){return e},e}function D(){var e=Object(s.a)(["\n  position: fixed;\n  bottom: 5px;\n  right: 5px;"]);return D=function(){return e},e}M="https://solo-react-project.herokuapp.com/";var J=z()(M,{path:"/ws"}),A=j.a.div(D()),B=j.a.div(P());function F(){Object(K.b)((function(e){return e.likeReducer}));var e=Object(K.b)((function(e){return e.userReducer.username})),t=Object(r.useState)({message:"",name:""}),n=Object(m.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)([]),i=Object(m.a)(u,2),s=i[0],p=i[1];Object(r.useEffect)((function(){J.on("message",(function(e){var t=e.name,n=e.message;p([].concat(Object(C.a)(s),[{name:t,message:n}]))}))}));return c.a.createElement(A,null,c.a.createElement(B,{className:"render-chat"},s.map((function(t,n){t.name;var a=t.message;return c.a.createElement("div",{key:n},c.a.createElement("h3",null," ",e,": ",c.a.createElement("span",null,a)," "))}))),c.a.createElement("input",{name:"message",onChange:function(e){return function(e){l(Object(a.a)(Object(a.a)({},o),{},Object(T.a)({},e.target.name,e.target.value)))}(e)},value:o.message,id:"outlined-multiline-static",variant:"outlined",label:"Message"}),c.a.createElement(_.a,{onClick:function(e){var t=o.name,n=o.message;J.emit("message",{name:t,message:n}),l({message:"",name:t})},style:{width:"92px"}}," Send "))}function Q(){var e=Object(s.a)(["\ndisplay: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;"]);return Q=function(){return e},e}var U=j.a.div(Q());function G(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=(t[0],t[1],Object(p.useQuery)(h)),a=n.loading,o=n.error,l=n.data;return a?c.a.createElement("p",null,"Loading..."):o?c.a.createElement("p",null,"Error :"):c.a.createElement(c.a.Fragment,null,c.a.createElement($,null),c.a.createElement(U,null,JSON.parse(l.post.allPosts).map((function(e){return c.a.createElement(S,{value:e})}))),c.a.createElement(F,null))}var H,W=n(37),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_INCREMENT":return e++;case"LIKE_DECREMENT":return e--;default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"deepak"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_INCREMENT":case"LIKE_DECREMENT":default:return e}},Z=Object(W.combineReducers)({likeReducer:V,isLoggedReducer:X,userReducer:Y}),ee=n(135),te=n(136),ne=Object(W.createStore)(Z,Object(ee.composeWithDevTools)());H="https://solo-react-project.herokuapp.com/";var ae=Object(p.createHttpLink)({uri:H}),re=Object(te.a)((function(e,t){var n=t.headers,r=localStorage.getItem("token");return{headers:Object(a.a)(Object(a.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),ce=new p.ApolloClient({link:re.concat(ae),cache:new p.InMemoryCache});l.a.render(c.a.createElement(K.a,{store:ne},c.a.createElement(p.ApolloProvider,{client:ce},c.a.createElement(u.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/login"}," ",c.a.createElement(k,null)," "),c.a.createElement(i.a,{path:"/home"}," ",c.a.createElement(G,null)," "))))),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.121aef0d.chunk.js.map