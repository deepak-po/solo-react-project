(this["webpackJsonppikagram-frontend-react"]=this["webpackJsonppikagram-frontend-react"]||[]).push([[0],{135:function(e,t,n){e.exports=n(224)},173:function(e,t){},224:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n(0),c=n.n(r),o=n(29),l=n.n(o),u=n(134),i=n(9),s=n(23),m=n(12),p=n(14);function d(){var e=Object(m.a)(["\n  mutation Comment($postId: Int!, $comment: String!){\n    addComment(postId: $postId, comment:$comment) {\n      id\n    }\n    }"]);return d=function(){return e},e}function g(){var e=Object(m.a)(["\n  { post\n    {\n      allPosts\n    }\n  }"]);return g=function(){return e},e}function f(){var e=Object(m.a)(["\nquery Token($userName: String!, $password: String!){\n  login(userName: $userName, password: $password){\n    token\n    id\n  }\n}"]);return f=function(){return e},e}var v=function(e){var t;t="/home",window.location.href=t,localStorage.token=e.login.token},b=Object(p.gql)(f()),h=Object(p.gql)(g()),E=Object(p.gql)(d()),j=n(26);function O(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;"]);return O=function(){return e},e}var x=j.a.div(O());function y(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(null),l=Object(s.a)(o,2),u=l[0],i=l[1],m=Object(r.useState)(null),d=Object(s.a)(m,2),g=d[0],f=d[1],h=Object(p.useLazyQuery)(b,{onCompleted:v,onError:function(e){return f("Invalid Credentials")}}),E=Object(s.a)(h,1)[0];return c.a.createElement(x,null,g?c.a.createElement("p",null," ",g," "):null,c.a.createElement("input",{onChange:function(e){return a(e.target.value)},type:"text",placeholder:"username"}),c.a.createElement("input",{onChange:function(e){return i(e.target.value)},type:"text",placeholder:"password"}),c.a.createElement("input",{type:"button",value:"Login",onClick:function(){E({variables:{userName:n,password:u}})}}))}function w(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,null))}var k=n(64);function C(){var e=Object(m.a)(["\n  font-size: 11px;   \n  color: rgb(38,38,38);\n  width: 555px;  \n  border:solid grey 1px;  \n  background-color: rgb(243,243,243);\n  outline-width: 0;"]);return C=function(){return e},e}var I=j.a.div(C());function N(e){var t=Object(r.useState)(e.value.Comments),n=Object(s.a)(t,2),a=n[0],o=n[1],l=Object(r.useState)(null),u=Object(s.a)(l,2),i=u[0],m=u[1],d=Object(p.useMutation)(E),g=Object(s.a)(d,1)[0];return c.a.createElement(I,null,c.a.createElement("img",{src:e.value.photoPath,alt:"",style:{width:"550px",padding:"1px 1px"}}),c.a.createElement("p",null," ","".concat(e.value.user.userName,": ").concat(e.value.caption)," "),c.a.createElement("p",null," ",a[0]?"Comments:":null," "),c.a.createElement("div",null," ",a[0]?a.map((function(e,t){return c.a.createElement("p",{key:t}," ","".concat(e.User.userName,":").concat(e.comment)," ")})):null," "),c.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",placeholder:"comment",style:{width:"400px"}}),c.a.createElement("input",{type:"button",value:"Comment",onClick:function(){g({variables:{postId:e.value.id,comment:i}}),o([].concat(Object(k.a)(a),[{User:{userName:"deepak"},comment:i}]))},style:{width:"100px"}}))}function S(){var e=Object(m.a)(["\n// padding-bottom:400px;\noverflow: hidden;\nwidth:100%;\nposition: fixed;\nmargin: -9px -8px;\nwidth:100vw;\ndisplay:flex;\njustify-content: \nspace-between;\nfont-size: 11px;   \ncolor: rgb(38,38,38);\nborder:solid grey 1px;  \nbackground-color: rgb(243,243,243);\nleft:9px;   \n-width: 0;"]);return S=function(){return e},e}var L=j.a.div(S());function R(e){return c.a.createElement(L,null,c.a.createElement("h1",{style:{paddingLeft:"100px"}},"Logo"),c.a.createElement("h1",{style:{paddingRight:"100px"}},"Links"))}var $,M=n(58),T=n(128),q=n.n(T),z=n(226),_=n(63);function K(){var e=Object(m.a)(["\n  font-size: 11px;  \n  height: 111px;  \n  color: rgb(38,38,38);\n  width: 255px;  \n  border:solid grey 1px;  \n  background-color: rgb(243,243,243);\n  left:9px;  \n  top: -8px;  \n  outline-width: 0;\n  overflow-y:auto;"]);return K=function(){return e},e}function P(){var e=Object(m.a)(["\n  position: fixed;\n  bottom: 5px;\n  right: 5px;"]);return P=function(){return e},e}$="https://solo-react-project.herokuapp.com/";var D=q()($,{path:"/ws"}),J=j.a.div(P()),A=j.a.div(K());function B(){var e=Object(_.b)((function(e){return e.userReducer.username})),t=Object(r.useState)({message:"",name:""}),n=Object(s.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)([]),i=Object(s.a)(u,2),m=i[0],p=i[1];Object(r.useEffect)((function(){D.on("message",(function(e){var t=e.name,n=e.message;p([].concat(Object(k.a)(m),[{name:t,message:n}]))}))}));return c.a.createElement(J,null,c.a.createElement(A,{className:"render-chat"},m.map((function(t,n){t.name;var a=t.message;return c.a.createElement("div",{key:n},c.a.createElement("h3",null," ",e,": ",c.a.createElement("span",null,a)," "))}))),c.a.createElement("input",{name:"message",onChange:function(e){return function(e){l(Object(a.a)(Object(a.a)({},o),{},Object(M.a)({},e.target.name,e.target.value)))}(e)},value:o.message,id:"outlined-multiline-static",variant:"outlined",label:"Message"}),c.a.createElement(z.a,{onClick:function(e){var t=o.name,n=o.message;D.emit("message",{name:t,message:n}),l({message:"",name:t})},style:{width:"92px"}}," Send "))}function F(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;"]);return F=function(){return e},e}var Q=j.a.div(F());function U(){var e=Object(p.useQuery)(h),t=e.loading,n=e.error,a=e.data;return t?c.a.createElement("p",null,"Loading..."):n?c.a.createElement("p",null,"Error :"):c.a.createElement(c.a.Fragment,null,c.a.createElement(R,null),c.a.createElement(Q,null,JSON.parse(a.post.allPosts).map((function(e,t){return c.a.createElement(N,{key:t,value:e})}))),c.a.createElement(B,null))}var G,H=n(35),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_INCREMENT":return e++;case"LIKE_DECREMENT":return e--;default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"deepak"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_INCREMENT":case"LIKE_DECREMENT":default:return e}},Y=Object(H.combineReducers)({likeReducer:W,isLoggedReducer:V,userReducer:X}),Z=n(132),ee=n(133),te=Object(H.createStore)(Y,Object(Z.composeWithDevTools)());G="https://solo-react-project.herokuapp.com/gql";var ne=Object(p.createHttpLink)({uri:G}),ae=Object(ee.a)((function(e,t){var n=t.headers,r=localStorage.getItem("token");return{headers:Object(a.a)(Object(a.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),re=new p.ApolloClient({link:ae.concat(ne),cache:new p.InMemoryCache});l.a.render(c.a.createElement(_.a,{store:te},c.a.createElement(p.ApolloProvider,{client:re},c.a.createElement(u.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/"}," ",c.a.createElement(w,null)," "),c.a.createElement(i.a,{exact:!0,path:"/home"}," ",c.a.createElement(U,null)," "))))),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.6b5caa11.chunk.js.map